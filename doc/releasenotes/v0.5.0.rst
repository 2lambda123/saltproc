========================
Release notes for v0.5.0
========================

.. note:: These release notes are currently in production.

..
  When documenting a bug fix or feature, please do so in the following format

..
  - `Fixed typo in depcode.py <https://github.com/arfc/saltproc/pull/xx>`_ by @pr_author_username

..
  Links to packages/issues/bug fixes/contributors/reviewers




Summary
=======

.. 
  Describe generally the features of this release

This release adds support for ``OpenMC`` in ``SaltProc`` via the addition of
the ``DepcodeOpenMC`` class


Dependency Changes
==================

..
  Describe any new/removed/modified package dependencies

- ``SaltProc`` now optionally required the following package:

  - (new) → `openmc`_


New Features
============

..
  Describe any new features to the code.

- ``openmc`` support via `DepcodeOpenMC`


Bug Fixes
=========

..
  Describe any bug fixes.




Script Changes
==============

..
  Describe any script additions/modifications/removals


- One new script

  - ``scripts/preprocessors/generate_mat_composition/convert_material_serpent_to_openmc.py``. Converts a Serpent2 material file to an OpenMC material file


Python API Changes
==================

..
  Describe any changes to the API

- Input file format changes:

  - ``depcode['template_inputfile_path']`` → ``depcode['template_inputfiles_path']``
  - The ``depcode['template_inputfiles_path']`` input variable now has depletion-code-depentent type:
    
    - ``str`` for ``Serpent2``
    - ``dict`` of ``str`` to ``str`` for ``openmc``

  - ``depcode['iter_inputfile']`` → (removed)
  - ``depcode['iter_matfile']`` → (removed)

.. note:: While the ``iter_inputfile`` and ``iter_matfile`` variables have been removed from the saltproc input file,
   their presence and usage in ``DepcodeSerpent`` class is unchanged, save for the fact they can no longe be initialized during object creation.


- New/changed classes and methods:

  - ``Depcode``

    - ``template_inputfile_path`` → ``template_inputfiles_path``
    - Changed `iter_inputfile` and `iter_matfile` to be attributes instead of parameters

  - ``DepcodeSerpent``

    - ``template_inputfile_path`` → ``template_inputfiles_path``
    - Changed `iter_inputfile` and `iter_matfile` to be attributes instead of parameters


  - ``DepcodeOpenmc`` is a ``Depcode`` subclass that interfaces with ``openmc``. This class implements the following functions 

    - ``run_depcode()``
    - ``switch_to_next_geometry()``
    - ``write_depcode_input()``
    - ``write_depletion_settings()``


Contributors
============
..
  List of people who contributed features and fixes to this release

The following people contributed code to this release of SaltProc:

..
  `@gh_username <https://github.com/gh_uname>`_




Reviewers
=========
..
  List of people who reviewed PRs for this release

The following people reviewed code for this release of SaltProc:

..
  `@gh_username <https://github.com/gh_uname>`_


